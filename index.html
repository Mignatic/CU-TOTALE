<!DOCTYPE html><html lang="fr"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-SBLW1BFQZB"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SBLW1BFQZB")</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Calculateur Poids Camions Lourds</title><style>body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#f0f7f4,#e0f2e9);margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh}nav{width:100%;background-color:#2e7d32;padding:10px 0;box-shadow:0 2px 5px rgba(0,0,0,.1);position:fixed;top:0;left:0;z-index:1000}nav ul{list-style-type:none;margin:0;padding:0;text-align:center}nav ul li{display:inline;margin:0 15px}nav ul li a{color:#fff;text-decoration:none;font-size:1.1em;font-weight:700;transition:color .3s ease}nav ul li a:hover{color:#4caf50}.container{max-width:800px;width:90%;background-color:#fff;border-radius:15px;box-shadow:0 10px 20px rgba(0,0,0,.1);padding:20px;margin:60px 20px 20px;transition:transform .3s ease;text-align:center}.container:hover{transform:translateY(-5px)}h1{text-align:center;color:#2e7d32;font-size:2.5em;margin-bottom:20px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.2);background:linear-gradient(45deg,#2e7d32,#4caf50);-webkit-background-clip:text;background-clip:text;color:transparent;padding:10px 0;transition:transform .3s ease,color .3s ease}h1:hover{transform:scale(1.1);color:#4caf50}.calculator{padding:15px;background:#f9fafb;border-radius:10px;box-shadow:0 5px 10px rgba(0,0,0,.05);text-align:center}.form-group{margin-bottom:15px;text-align:center}label{display:block;margin-bottom:5px;font-weight:700;color:#333;text-align:center}button,input[type=number],select{display:block;margin:0 auto;padding:10px;width:100%;max-width:300px;border:2px solid #4caf50;border-radius:8px;box-sizing:border-box;font-size:1em;background-color:#fff;transition:border-color .3s ease,box-shadow .3s ease;text-align:center}input[type=number]:focus,select:focus{border-color:#2e7d32;box-shadow:0 0 5px rgba(46,125,50,.5);outline:0}button{background-color:#4caf50;color:#fff;border:none;cursor:pointer;font-size:1em;font-weight:700;padding:12px;width:200px;margin-top:15px;transition:background-color .3s ease,transform .2s ease;text-align:center}button:hover{background-color:#2e7d32;transform:scale(1.05)}#results{margin-top:20px;padding:15px;background-color:#e8f5e9;border-radius:10px;box-shadow:0 5px 10px rgba(0,0,0,.05);text-align:center}#compatibility,#warning,.solution,.step{font-weight:700;margin:10px 0;line-height:1.5;text-align:center}.step{color:#006400;font-size:1em}#compatibility,#warning,.solution{color:#d32f2f;font-size:1em;display:none}#solutions{margin-top:15px;padding:15px;background-color:#ffebee;border-radius:8px;border-left:5px solid #d32f2f;display:none;text-align:center}#solutionList{list-style-type:none;padding:0;margin:0;text-align:center}#solutionList li{margin:5px 0;padding-left:10px}@media (max-width:600px){.container{width:85%;padding:15px}nav ul li{margin:0 10px}button,input[type=number],select{max-width:250px}h1{font-size:1.8em}}</style></head><body><nav><ul><li><a href="#calculator">Calculateur</a></li></ul></nav><div class="container"><h1>Calculateur de Poids Maximal pour Camions Lourds</h1><div class="calculator"><h2>S√©lectionnez le Type de V√©hicule</h2><div class="form-group"><select id="vehicleType" onchange="toggleInputs()"><option value="single">V√©hicule Isol√©</option><option value="articulated">V√©hicule Articul√© (Tracteur + Semi-remorque)</option><option value="train">Train Routier</option></select></div><div id="inputs"><div class="form-group"><label for="axlesTruck">Nombre d‚Äôessieux du Camion/Tracteur:</label><select id="axlesTruck"><option value="2">2 essieux</option><option value="3">3 essieux</option><option value="4">4 essieux ou +</option></select></div><div class="form-group"><label for="ptacTruck">PTAC Camion/Tracteur (Poids Total Autoris√© en Charge):</label><input type="number" id="ptacTruck" placeholder="Entrez le poids (tonnes)" step="0.1"></div><div class="form-group"><label for="pvTruck">PV Camion/Tracteur (Poids √† Vide):</label><input type="number" id="pvTruck" placeholder="Entrez le poids (tonnes)" step="0.1"></div><div id="trailerInputs" style="display:none"><div class="form-group"><label for="axlesTrailer">Nombre d‚Äôessieux de la Remorque/Semi:</label><select id="axlesTrailer"><option value="0">Aucun (V√©hicule Isol√©)</option><option value="2">2 essieux</option><option value="3">3 essieux</option><option value="4">4 essieux ou +</option></select></div><div class="form-group"><label for="ptacTrailer">PTAC Remorque/Semi (Poids Total Autoris√© en Charge):</label><input type="number" id="ptacTrailer" placeholder="Entrez le poids (tonnes)" step="0.1"></div><div class="form-group"><label for="pvTrailer">PV Remorque/Semi (Poids √† Vide):</label><input type="number" id="pvTrailer" placeholder="Entrez le poids (tonnes)" step="0.1"></div><div class="form-group"><label for="ptr">PTRA (Poids Total Roulant Autoris√© du Camion + Remorque):</label><input type="number" id="ptr" placeholder="Entrez le poids (tonnes)" step="0.1"></div></div></div><button onclick="calculate()">Calculer</button><div id="results"><h3>R√©sultats :</h3><div id="calculationSteps"></div><div id="solutions" style="display:none"><p class="solution">üí° Solutions possibles pour assurer la compatibilit√© :</p><ul id="solutionList" style="color:#d32f2f;list-style-type:none;padding:0"></ul></div><p id="warning">‚ö† Le poids r√©el ne doit pas d√©passer la MMA !</p><p id="compatibility">‚ö† Le camion et la remorque ne sont pas compatibles ! Le poids combin√© d√©passe le PTRA ou les limites totales.</p></div></div></div><script>// Function to toggle trailer inputs based on vehicle type
        function toggleInputs() {
            const vehicleType = document.getElementById('vehicleType').value;
            const trailerInputs = document.getElementById('trailerInputs');
            if (vehicleType === 'single') {
                trailerInputs.style.display = 'none';
            } else {
                trailerInputs.style.display = 'block';
            }
        }

        function calculate() {
            const vehicleType = document.getElementById('vehicleType').value;
            const axlesTruck = parseInt(document.getElementById('axlesTruck').value);
            const ptacTruck = parseFloat(document.getElementById('ptacTruck').value) || 0;
            const pvTruck = parseFloat(document.getElementById('pvTruck').value) || 0;
            let mma = 0;
            let cu = 0;
            let stepsHtml = '';
            let solutionsHtml = '';

            // Check if any critical input is zero or empty to avoid unnecessary warnings
            if (ptacTruck === 0 && (vehicleType === 'articulated' || vehicleType === 'train')) {
                document.getElementById('calculationSteps').innerHTML = '';
                document.getElementById('warning').style.display = 'none';
                document.getElementById('compatibility').style.display = 'none';
                document.getElementById('solutions').style.display = 'none';
                return; // Exit if no PTAC for truck, avoiding warnings
            }

            // D√©finir les poids maximaux par ensemble selon le nombre d'essieux (bas√© sur les images)
            let maxEnsembleWeightTruck = 0;
            if (axlesTruck === 2) maxEnsembleWeightTruck = 19; // 19 t maxi pour 2 essieux
            else if (axlesTruck === 3) maxEnsembleWeightTruck = 26; // 26 t maxi pour 3 essieux
            else if (axlesTruck === 4) maxEnsembleWeightTruck = 32; // 32 t maxi pour 4 essieux ou +

            // V√©rifier que le PTAC ne d√©passe pas le poids maximal par ensemble
            const effectivePtacTruck = Math.min(ptacTruck, maxEnsembleWeightTruck);

            if (vehicleType === 'single') {
                // Calcul pour V√©hicule Isol√©
                mma = effectivePtacTruck; // MMA = PTAC Camion (limit√© par le poids maximal pour le nombre d‚Äôessieux)
                cu = mma - pvTruck; // CU = MMA - PV Camion

                stepsHtml = `
                    <p class="step">1) PTAC du v√©hicule isol√© : ${effectivePtacTruck.toFixed(2)} t</p>
                    <p class="step">2) MMA (PMA) : ${mma.toFixed(2)} t</p>
                    <p class="step" style="color: #d32f2f;">CU = MMA - PV : ${cu.toFixed(2)} t</p>
                `;
            } else {
                // Inputs pour V√©hicule Articul√© ou Train Routier
                const axlesTrailer = parseInt(document.getElementById('axlesTrailer').value);
                const ptacTrailer = parseFloat(document.getElementById('ptacTrailer').value) || 0;
                const pvTrailer = parseFloat(document.getElementById('pvTrailer').value) || 0;
                const ptr = parseFloat(document.getElementById('ptr').value) || 0;

                // Check if PTAC trailer or PTRA is zero/empty to avoid unnecessary warnings
                if (ptacTrailer === 0 || ptr === 0) {
                    document.getElementById('calculationSteps').innerHTML = '';
                    document.getElementById('warning').style.display = 'none';
                    document.getElementById('compatibility').style.display = 'none';
                    document.getElementById('solutions').style.display = 'none';
                    return; // Exit if no PTAC for trailer or PTRA, avoiding warnings
                }

                let maxEnsembleWeightTrailer = 0;
                if (axlesTrailer === 2) maxEnsembleWeightTrailer = 19; // 19 t maxi pour 2 essieux de la remorque
                else if (axlesTrailer === 3) maxEnsembleWeightTrailer = 26; // 26 t maxi pour 3 essieux de la remorque
                else if (axlesTrailer === 4) maxEnsembleWeightTrailer = 32; // 32 t maxi pour 4 essieux ou + de la remorque

                const effectivePtacTrailer = Math.min(ptacTrailer, maxEnsembleWeightTrailer);

                if (vehicleType === 'articulated') {
                    // Calcul pour V√©hicule Articul√© (comme dans Exemple 2)
                    const ptrTractor = ptr; // PTRA du tracteur
                    const capacity = pvTruck + effectivePtacTrailer; // Capacit√© de la semi combin√©e avec le tracteur (PV tracteur + PTAC semi)
                    const ensembleAxles = 44; // Nombre d‚Äôessieux de l‚Äôensemble (fix√© √† 44 t pour 5 essieux ou + comme dans l‚Äôexemple)

                    mma = Math.min(ptrTractor, capacity, ensembleAxles); // MMA = la plus petite des 3 valeurs
                    cu = mma - (pvTruck + pvTrailer); // CU = MMA - (PV tracteur + PV semi)

                    stepsHtml = `
                        <p class="step">1) Le PTRA du tracteur : ${ptrTractor.toFixed(2)} t</p>
                        <p class="step">2) La capacit√© de la semi combin√©e avec le tracteur : PV tracteur + PTAC semi : ${capacity.toFixed(2)} t</p>
                        <p class="step">3) Le nombre d‚Äôessieux de l‚Äôensemble : ${ensembleAxles.toFixed(2)} t</p>
                        <p class="step" style="color: #d32f2f;">Le MMA (PMA) sera la plus petite des 3 valeurs : ${mma.toFixed(2)} t</p>
                        <p class="step" style="color: #d32f2f;">CU = MMA - (PV tracteur + PV semi) : ${cu.toFixed(2)} t</p>
                    `;

                    // V√©rifier la compatibilit√© et proposer des solutions
                    if (ptacTruck + ptacTrailer > ptrTractor || ptacTruck > maxEnsembleWeightTruck || ptacTrailer > maxEnsembleWeightTrailer) {
                        solutionsHtml = `
                            <li>1) R√©duire le PTAC du camion √† ${Math.min(ptrTractor - ptacTrailer, maxEnsembleWeightTruck).toFixed(2)} t ou moins.</li>
                            <li>2) R√©duire le PTAC de la semi-remorque √† ${Math.min(ptrTractor - ptacTruck, maxEnsembleWeightTrailer).toFixed(2)} t ou moins.</li>
                            <li>3) Changer la semi-remorque pour une avec un PTAC maximal de ${Math.min(ptrTractor - ptacTruck, 32).toFixed(2)} t (si 4 essieux ou +).</li>
                        `;
                        document.getElementById('compatibility').style.display = 'block';
                    } else {
                        document.getElementById('compatibility').style.display = 'none';
                    }
                } else if (vehicleType === 'train') {
                    // Calcul pour Train Routier (comme dans votre screenshot)
                    const capacity = ptacTruck + ptacTrailer; // Capacit√© combin√©e (PTAC camion + PTAC remorque)
                    const ensembleLimit = 44; // Limite maximale de l‚Äôensemble (5 essieux ou +)

                    mma = Math.min(ptr, capacity, ensembleLimit); // MMA = la plus petite des 3 valeurs
                    cu = mma - (pvTruck + pvTrailer); // CU = MMA - (PV camion + PV remorque)

                    stepsHtml = `
                        <p class="step">1) PTRA du train routier : ${ptr.toFixed(2)} t</p>
                        <p class="step">2) Capacit√© combin√©e (PTAC camion + PTAC remorque) : ${ptacTruck.toFixed(2)} + ${ptacTrailer.toFixed(2)} = ${capacity.toFixed(2)} t</p>
                        <p class="step">3) Limite maximale de l‚Äôensemble (5 essieux ou +) : ${ensembleLimit.toFixed(2)} t</p>
                        <p class="step" style="color: #d32f2f;">Le MMA (PMA) sera la plus petite des 3 valeurs : ${mma.toFixed(2)} t</p>
                        <p class="step" style="color: #d32f2f;">CU = MMA - (PV camion + PV remorque) : ${cu.toFixed(2)} t</p>
                    `;

                    // V√©rifier la compatibilit√© et proposer des solutions
                    if (ptacTruck + ptacTrailer > ptr || ptacTruck > maxEnsembleWeightTruck || ptacTrailer > maxEnsembleWeightTrailer) {
                        solutionsHtml = `
                            <li>1) R√©duire le PTAC du camion √† ${Math.min(ptr - ptacTrailer, maxEnsembleWeightTruck).toFixed(2)} t ou moins.</li>
                            <li>2) R√©duire le PTAC de la remorque √† ${Math.min(ptr - ptacTruck, maxEnsembleWeightTrailer).toFixed(2)} t ou moins.</li>
                            <li>3) Changer la remorque pour une avec un PTAC maximal de ${Math.min(ptr - ptacTruck, 32).toFixed(2)} t (si 4 essieux ou +).</li>
                        `;
                        document.getElementById('compatibility').style.display = 'block';
                    } else {
                        document.getElementById('compatibility').style.display = 'none';
                    }
                }
            }

            // V√©rifier si le poids r√©el d√©passe la MMA et afficher le warning uniquement si des valeurs sont entr√©es
            const actualWeight = ptacTruck + (vehicleType !== 'single' ? (ptacTrailer || 0) : 0);
            const warning = document.getElementById('warning');
            if (actualWeight > 0 && actualWeight > mma) {
                warning.style.display = 'block';
            } else {
                warning.style.display = 'none';
            }

            // Afficher les √©tapes de calcul
            document.getElementById('calculationSteps').innerHTML = stepsHtml;

            // Afficher ou masquer les solutions si n√©cessaire
            const solutionsDiv = document.getElementById('solutions');
            const solutionList = document.getElementById('solutionList');
            if (solutionsHtml) {
                solutionList.innerHTML = solutionsHtml;
                solutionsDiv.style.display = 'block';
            } else {
                solutionsDiv.style.display = 'none';
            }
        }

        // Initialement masquer les inputs de la remorque
        toggleInputs();</script></body></html>
